"use strict";(self.webpackChunkshekhar_patil_github_io=self.webpackChunkshekhar_patil_github_io||[]).push([[9887],{740:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>r,metadata:()=>n,toc:()=>h});var n=s(1621),o=s(4848),a=s(8453);const r={slug:"singleton-method-in-the-ruby",title:"How to use a Singleton method in the rails.",authors:"shekhar-patil",tags:["rails"]},i=void 0,l={authorsImageUrls:[void 0]},h=[{value:"1. Who holds these methods? does class hold these methods or each object of the class holds this methods?",id:"1-who-holds-these-methods-does-class-hold-these-methods-or-each-object-of-the-class-holds-this-methods",level:3},{value:"2. Singleton methods",id:"2-singleton-methods",level:2}];function d(e){const t={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.p,{children:"Today I attend Ruby Conference at Pune and Singleton method and metaclass in ruby was one of the talk discussed there So, I thought to write a blog about it."}),"\n",(0,o.jsx)(t.p,{children:"In ruby, we create the class and class has many methods written into it. When we create an object of the class we can access those methods using that object. So, the question raise in my mind was as follows."}),"\n",(0,o.jsx)(t.h3,{id:"1-who-holds-these-methods-does-class-hold-these-methods-or-each-object-of-the-class-holds-this-methods",children:"1. Who holds these methods? does class hold these methods or each object of the class holds this methods?"}),"\n",(0,o.jsx)(t.p,{children:"Let us find it out."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-ruby",children:'class User\n  def role\n    puts "Admin"\n  end\nend\n\nuser = User.new\nuser.role         // Admin\n\nclass User\n  def role\n    puts "sales"\n  end\nend\n\nuser.role         // sales\n'})}),"\n",(0,o.jsxs)(t.p,{children:["As we can see we have overridden the ",(0,o.jsx)(t.code,{children:"User"})," class that is why second ",(0,o.jsx)(t.code,{children:"user.role"})," prints ",(0,o.jsx)(t.code,{children:"sales"}),". It means all class methods are implemented in the class and also it is store in the class definitions."]}),"\n",(0,o.jsx)(t.p,{children:"Now consider the situation where we want to create method only for a single object of the class not for all objects of the class. We can do it in the ruby using singleton methods for the class object."}),"\n",(0,o.jsx)(t.h2,{id:"2-singleton-methods",children:"2. Singleton methods"}),"\n",(0,o.jsx)(t.p,{children:"Singleton methods are the methods which are only available for a single particular object and not for all objects of the class."}),"\n",(0,o.jsx)(t.p,{children:"Check the following snippet"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-ruby",children:"class User\n  def role\n    puts \"Admin\"\n  end\nend\n\nfirst_user = User.new      \nfirst_user.role              // Admin\n\n// Add singleton method department for `first_user` object.\ndef first_user.department\n  puts 'Admin department'\nend\nfirst_user.department        // Admin department\n\nsecond_user = User.new\nsecond_user.role             // Admin\nsecond_user.department       // NoMethodError (undefined method `department' for #<User:0x000055a8b44b45d0>)\n"})}),"\n",(0,o.jsxs)(t.p,{children:["We can observe that department method is not available for object ",(0,o.jsx)(t.code,{children:"second_user"})," because the department is singleton method for object ",(0,o.jsx)(t.code,{children:"first_user"})," so it is stored on the metaclass of an object and they are independent of the parent class of the object."]}),"\n",(0,o.jsx)(t.p,{children:"So, Object in ruby only stores the state. Its behavior comes from the class definition. The metaclass is almost similar to a class but it can't be instantiated."})]})}function c(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},1621:e=>{e.exports=JSON.parse('{"permalink":"/blog/singleton-method-in-the-ruby","source":"@site/blog/2019-08-10-singleton-method-in-the-ruby.md","title":"How to use a Singleton method in the rails.","description":"Today I attend Ruby Conference at Pune and Singleton method and metaclass in ruby was one of the talk discussed there So, I thought to write a blog about it.","date":"2019-08-10T00:00:00.000Z","tags":[{"inline":false,"label":"Rails","permalink":"/blog/tags/rails","description":"Ruby on Rails is a server-side web application framework..."}],"readingTime":1.67,"hasTruncateMarker":true,"authors":[{"name":"Shekhar Patil","title":"Full stack developer.","url":"https://github.com/shekhar-patil","github":"shekhar-patil","linkedin":"https://www.linkedin.com/in/shekhar-patil-834462135/","imageURL":"https://avatars.githubusercontent.com/u/16961675?s=400&u=70e54719e239d1148c24bc8661a72ee9e59f420d&v=4","key":"shekhar-patil","page":null}],"frontMatter":{"slug":"singleton-method-in-the-ruby","title":"How to use a Singleton method in the rails.","authors":"shekhar-patil","tags":["rails"]},"unlisted":false,"prevItem":{"title":"Extend, Merge methods in the Javascript.","permalink":"/blog/how-to-merge-objects-in-javascript"},"nextItem":{"title":"Scope in rails.","permalink":"/blog/scope-in-rails"}}')},8453:(e,t,s)=>{s.d(t,{R:()=>r,x:()=>i});var n=s(6540);const o={},a=n.createContext(o);function r(e){const t=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),n.createElement(a.Provider,{value:t},e.children)}}}]);